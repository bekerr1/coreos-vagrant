{
  "ignition": {
    "config": {},
    "timeouts": {},
    "version": "2.1.0"
  },
  "networkd": {},
  "passwd": {},
  "storage": {
    "files": [
      {
        "filesystem": "root",
        "group": {},
        "path": "/etc/flannel/options.env",
        "user": {
          "name": "core"
        },
        "contents": {
          "source": "data:,FLANNELD_IFACE%3D172.17.8.101%0AFLANNELD_ETCD_ENDPOINTS%3Dhttp%3A%2F%2F172.17.8.100%3A2379%0A",
          "verification": {}
        },
        "mode": 420
      },
      {
        "filesystem": "root",
        "group": {},
        "path": "/etc/kubernetes/cni/docker_opts_cni.env",
        "user": {
          "name": "core"
        },
        "contents": {
          "source": "data:,DOCKER_OPT_BIP%3D%22%22%0ADOCKER_OPT_IPMASQ%3D%22%22%0A",
          "verification": {}
        },
        "mode": 420
      },
      {
        "filesystem": "root",
        "group": {},
        "path": "/etc/kubernetes/cni/net.d/10-flannel.conf",
        "user": {
          "name": "core"
        },
        "contents": {
          "source": "data:,%7B%0A%20%20%22name%22%3A%20%22podnet%22%2C%0A%20%20%22type%22%3A%20%22flannel%22%2C%0A%20%20%22delegate%22%3A%20%7B%0A%20%20%20%20%22isDefaultGateway%22%3A%20true%0A%20%20%7D%0A%7D%0A",
          "verification": {}
        },
        "mode": 420
      },
      {
        "filesystem": "root",
        "group": {},
        "path": "/etc/kubernetes/manifests/kube-apiserver.yaml",
        "user": {
          "name": "core"
        },
        "contents": {
          "source": "data:,apiVersion%3A%20v1%0Akind%3A%20Pod%0Ametadata%3A%0A%20%20name%3A%20kube-apiserver%0Aspec%3A%0A%20%20hostNetwork%3A%20true%0A%20%20containers%3A%0A%20%20-%20name%3A%20kube-apiserver%0A%20%20%20%20image%3A%20quay.io%2Fcoreos%2Fhyperkube%3Av1.6.1_coreos.0%0A%20%20%20%20command%3A%0A%20%20%20%20-%20%2Fhyperkube%0A%20%20%20%20-%20apiserver%0A%20%20%20%20-%20--bind-address%3D0.0.0.0%0A%20%20%20%20-%20--etcd-servers%3Dhttp%3A%2F%2F172.17.8.100%3A2379%0A%20%20%20%20-%20--service-cluster-ip-range%3D10.3.0.0%2F24%0A%20%20%20%20-%20--advertise-address%3D172.17.8.101%0A%20%20%20%20-%20--admission-control%3DNamespaceLifecycle%2CLimitRanger%2CServiceAccount%2CDefaultStorageClass%2CResourceQuota%0A%20%20%20%20-%20--runtime-config%3Dextensions%2Fv1beta1%2Fnetworkpolicies%3Dtrue%0A%20%20%20%20-%20--anonymous-auth%3Dfalse%0A%20%20%20%20-%20--secure-port%3D0%0A%20%20%20%20livenessProbe%3A%0A%20%20%20%20%20%20httpGet%3A%0A%20%20%20%20%20%20%20%20host%3A%20127.0.0.1%0A%20%20%20%20%20%20%20%20port%3A%208080%0A%20%20%20%20%20%20%20%20path%3A%20%2Fhealthz%0A%20%20%20%20%20%20initialDelaySeconds%3A%2015%0A%20%20%20%20%20%20timeoutSeconds%3A%2015%0A%20%20%20%20ports%3A%0A%20%20%20%20-%20containerPort%3A%2080%0A%20%20%20%20%20%20hostPort%3A%2080%0A%20%20%20%20%20%20name%3A%20http%0A%20%20%20%20-%20containerPort%3A%208080%0A%20%20%20%20%20%20hostPort%3A%208080%0A%20%20%20%20%20%20name%3A%20local%0A",
          "verification": {}
        },
        "mode": 420
      },
      {
        "filesystem": "root",
        "group": {},
        "path": "/etc/kubernetes/manifests/kube-controller-manager.yaml",
        "user": {
          "name": "core"
        },
        "contents": {
          "source": "data:,apiVersion%3A%20v1%0Akind%3A%20Pod%0Ametadata%3A%0A%20%20name%3A%20kube-controller-manager%0Aspec%3A%0A%20%20hostNetwork%3A%20true%0A%20%20containers%3A%0A%20%20-%20name%3A%20kube-controller-manager%0A%20%20%20%20image%3A%20quay.io%2Fcoreos%2Fhyperkube%3Av1.6.1_coreos.0%0A%20%20%20%20command%3A%0A%20%20%20%20-%20%2Fhyperkube%0A%20%20%20%20-%20controller-manager%0A%20%20%20%20-%20--master%3Dhttp%3A%2F%2F127.0.0.1%3A8080%0A%20%20%20%20-%20--leader-elect%3Dtrue%0A%20%20%20%20resources%3A%0A%20%20%20%20%20%20requests%3A%0A%20%20%20%20%20%20%20%20cpu%3A%20200m%0A%20%20%20%20livenessProbe%3A%0A%20%20%20%20%20%20httpGet%3A%0A%20%20%20%20%20%20%20%20host%3A%20127.0.0.1%0A%20%20%20%20%20%20%20%20path%3A%20%2Fhealthz%0A%20%20%20%20%20%20%20%20port%3A%2010252%0A%20%20%20%20%20%20initialDelaySeconds%3A%2015%0A%20%20%20%20%20%20timeoutSeconds%3A%2015%0A",
          "verification": {}
        },
        "mode": 420
      },
      {
        "filesystem": "root",
        "group": {},
        "path": "/etc/kubernetes/manifests/kube-scheduler.yaml",
        "user": {
          "name": "core"
        },
        "contents": {
          "source": "data:,apiVersion%3A%20v1%0Akind%3A%20Pod%0Ametadata%3A%0A%20%20name%3A%20kube-scheduler%0Aspec%3A%0A%20%20hostNetwork%3A%20true%0A%20%20containers%3A%0A%20%20-%20name%3A%20kube-scheduler%0A%20%20%20%20image%3A%20quay.io%2Fcoreos%2Fhyperkube%3Av1.6.1_coreos.0%0A%20%20%20%20command%3A%0A%20%20%20%20-%20%2Fhyperkube%0A%20%20%20%20-%20scheduler%0A%20%20%20%20-%20--master%3Dhttp%3A%2F%2F127.0.0.1%3A8080%0A%20%20%20%20-%20--leader-elect%3Dtrue%0A%20%20%20%20resources%3A%0A%20%20%20%20%20%20requests%3A%0A%20%20%20%20%20%20%20%20cpu%3A%20100m%0A%20%20%20%20livenessProbe%3A%0A%20%20%20%20%20%20httpGet%3A%0A%20%20%20%20%20%20%20%20host%3A%20127.0.0.1%0A%20%20%20%20%20%20%20%20path%3A%20%2Fhealthz%0A%20%20%20%20%20%20%20%20port%3A%2010251%0A%20%20%20%20%20%20initialDelaySeconds%3A%2015%0A%20%20%20%20%20%20timeoutSeconds%3A%2015%0A",
          "verification": {}
        },
        "mode": 420
      }
    ]
  },
  "systemd": {
    "units": [
      {
        "dropins": [
          {
            "contents": "[Service]\nEnvironment=\"FLANNEL_IMAGE_TAG=v0.7.0\"\nExecStart=\nExecStart=/usr/lib/coreos/flannel-wrapper $FLANNEL_OPTS \\\n  --etcd-endpoints=\"http://172.17.8.100:2379\" \\\n  --iface=\"172.17.8.101\"",
            "name": "20-clct-flannel.conf"
          }
        ],
        "enable": true,
        "name": "flanneld.service"
      },
      {
        "dropins": [
          {
            "contents": "[Service]\nExecStartPre=/usr/bin/ln -sf /etc/flannel/options.env /run/flannel/options.env\n",
            "name": "40-ExecStartPre-symlink.conf"
          }
        ],
        "enable": true,
        "name": "flanneld.service"
      },
      {
        "dropins": [
          {
            "contents": "[Unit]\nRequires=flanneld.service\nAfter=flanneld.service\n[Service]\nEnvironmentFile=/etc/kubernetes/cni/docker_opts_cni.env\n",
            "name": "40-flannel.conf"
          }
        ],
        "enable": true,
        "name": "docker.service"
      },
      {
        "contents": "[Service]\nEnvironment=KUBELET_IMAGE_TAG=v1.6.1_coreos.0\nEnvironment=\"RKT_RUN_ARGS=--uuid-file-save=/var/run/kubelet-pod.uuid \\\n  --volume var-log,kind=host,source=/var/log \\\n  --mount volume=var-log,target=/var/log \\\n  --volume dns,kind=host,source=/etc/resolv.conf \\\n  --mount volume=dns,target=/etc/resolv.conf\"\nExecStartPre=/usr/bin/mkdir -p /etc/kubernetes/manifests\nExecStartPre=/usr/bin/mkdir -p /var/log/containers\nExecStartPre=-/usr/bin/rkt rm --uuid-file=/var/run/kubelet-pod.uuid\nExecStart=/usr/lib/coreos/kubelet-wrapper \\\n  --api-servers=http://127.0.0.1:8080 \\\n  --register-schedulable=false \\\n  --cni-conf-dir=/etc/kubernetes/cni/net.d \\\n  --container-runtime=docker \\\n  --allow-privileged=true \\\n  --pod-manifest-path=/etc/kubernetes/manifests \\\n  --hostname-override=172.17.8.101 \\\n  --cluster_dns=10.3.0.10 \\\n  --cluster_domain=cluster.local\nExecStop=-/usr/bin/rkt stop --uuid-file=/var/run/kubelet-pod.uuid\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\n",
        "enable": true,
        "name": "kubelet.service"
      }
    ]
  }
}
